<md-input-container class="editSelector">
  <label>{{selectorLabel}}</label>
  <!-- Using Ng-if since ng-attr would not work for angular material directive attributes (such as multiple) -->
  <!-- Md-select has it's own scope, need to use $parent to get directive scope -->
  <md-select ng-if="multipleSelection"
    ng-model="$parent.selectedItems"
    multiple="true" md-container-class="editSelector">
    <md-select-header class="editSelectorHeader">
      <input ng-model="selectionSearch"
             type="search"
             placeholder="Search for an {{selectorLabel.substring(0,14)}}.."
             ng-keydown="$event.stopPropagation()"
             class="editSelectorSearch md-text">
    </md-select-header>
    <md-option ng-repeat="selection in selections | filter: selectionSearch"
      ng-value="selection._id"
      ng-click="itemClicked(selection)">
        {{selection.title}}
    </md-option>
  </md-select>

  <md-select ng-if="!multipleSelection"
    ng-model="$parent.selectedItems"
    multiple="false" md-container-class="editSelector">
    <md-select-header class="editSelectorHeader">
      <input ng-model="selectionSearch"
             type="search"
             placeholder="Search for an {{selectorLabel.substring(0,14)}}.."
             ng-keydown="$event.stopPropagation()"
             class="editSelectorSearch md-text">
    </md-select-header>
    <md-option ng-value="selection._id"
      ng-repeat="selection in selections | filter: selectionSearch"
      ng-click="itemClicked(selection)">
        {{selection.title}}
    </md-option>
  </md-select>
</md-input-container>
